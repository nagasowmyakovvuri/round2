<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Tic Tac Toe</title>
	 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="tictactoe.css">
      <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Finger+Paint&display=swap" rel="stylesheet"> 

</head>
<body>
	<center>
		
		<div class="main">
			<h1 id="input1">Tic Tac Toe</h1>
			<div id="game">
				<div class="grid" id='0'></div>
				<div  class="grid" id="1"></div>
				<div class="grid"  id="2"></div>
				<div  class="grid" id="3"></div>
				<div class="grid" id="4"></div>
				<div class="grid" id="5"></div>
				<div class="grid" id="6"></div>
				<div class="grid" id="7"></div>
			    <div class="grid" id="8"></div>

			</div>
			<div style="margin-top: 50px;">
			<button id="restart">Restart Game</button></div>
		</div>

		</center>
	<script type="text/javascript">
		let input1=document.getElementById('input1')
		let restart1=document.getElementById('restart')
		let grids=Array.from(document.getElementByClassName('grid'))
		let winner=getComputerStyle(document.body).getPropertyValue('winningblocks')
		const O="O"
		const X="X"
		let present=X
		let spaces = Array(9).fill(null)
		function startgame(){
			grids.foreach(grid=>grid.addEventListener('click',boxvalue))
		}
		function boxvalue(e)
		{
			const id=e.target.id
			if(!spaces[id])
			{
				spaces[id]=present
				e.target.innerText=present

				if(playerwon()!=false)
				{
					playerText.innerHtml='$(present) has won!'
					let winningblock=playerwon()
					winningblock.map(grid=>grids[grid].style.backgroundColor=winner)
					return
				}
				present=present==X?O
			}

		}
       const winningchance=[
       [0,1,2],
       [3,4,5],
       [6,7,8],
       [0,3,6],
       [1,4,7],
       [2,5,8],
       [0,4,8],
       [2,4,6]
       ]
      function playerwon()
      {
      	for(const i of winningchance)
      	{
      		let [a,b,c]=i
      		if(spaces[a] && (spaces[a]==spaces[b] && spaces[a]==spaces[c]))
      		{
      			return [a,b,c]
      		}
      	}
      	return false
      }
      restart.addEventListener('click',restarting)
      function restarting()
      {
      	spaces.fill(null)
      	boxes.foreach(box=>{
      		box.innerHtml=''
      		box.style.backgroundColor=''
      	})
      	playerText.innerHtml='Tic Tac Toe'
      	present=X
      }
	</script>


</body>
</html>